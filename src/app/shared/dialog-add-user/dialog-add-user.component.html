<div class="mrc-dialog-title">Novo usuário</div>
<div class="mrc-dialog-separator"></div>
<div class="dialog-add-user-content">
  <div class="dialog-add-user-content-column">
    <div class="dialog-add-user-content-column-item">
      <div class="mrc-text-1 column-1">Nome:</div>
      <input type="text" [ngClass]="{ 'error-input': nameError }" [value]="newUserData.name" (change)="newUserData.name = nameBox.value" #nameBox />
    </div>
    <div class="dialog-add-user-content-column-item">
      <div class="mrc-text-1 column-1">E-mail:</div>
      <input type="text" [ngClass]="{ 'error-input': emailError }" [value]="newUserData.email" (change)="newUserData.email = emailBox.value" [readonly]="editMode ? 'readonly' : ''" #emailBox />
    </div>
    <div class="dialog-add-user-content-column-item">
      <div class="mrc-text-1 column-1">Nome de usuário:</div>
      <input type="text" [ngClass]="{ 'error-input': userNameError }" [value]="newUserData.userName" (change)="newUserData.userName = usernameBox.value" [readonly]="editMode ? 'readonly' : ''" #usernameBox/>
    </div>
  </div>
  <div class="dialog-add-user-content-column">
    <div class="dialog-add-user-content-column-item">
      <div class="mrc-text-1">Permissões:</div>
      <div>
        <div class="dialog-add-user-content-column-item-checkbox">
          <mat-checkbox [(ngModel)]="newUserData.capabilities.scheduleAndRegisterPatient" disableRipple="true">
            Agendamento de consultas e cadastro de pacientes.
          </mat-checkbox>
        </div>        
        <div class="dialog-add-user-content-column-item-checkbox">
          <mat-checkbox [(ngModel)]="newUserData.capabilities.accessGlobalFinances" disableRipple="true">
            Acesso às finanças da clínica/consultório.
          </mat-checkbox>
        </div>
        <div class="dialog-add-user-content-column-item-checkbox">
          <mat-checkbox [(ngModel)]="newUserData.capabilities.fullAccessAdministrativeTools" [(indeterminate)]="canManageSystemDataIndeterminate" disableRipple="true">
            Gerenciamento de todos os recursos do sistema.
          </mat-checkbox>
        </div>
        <div class="dialog-add-user-link" (click)="customize_capabilities_clicked()">Personalizar...</div>
      </div>
    </div>
  </div>
</div>
<div class="mrc-dialog-separator"></div>
<div>
  <button mat-button (click)="cancel_clicked()">Cancelar</button>
  <button mat-button *ngIf="!editMode" (click)="create_clicked()">Criar usuário</button>
  <button mat-button *ngIf="editMode" (click)="update_clicked()">Salvar</button>
</div>
<div *ngIf="hasError" class="dialog-user-error-msg">{{ errorMsg }}</div>

